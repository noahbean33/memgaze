# -*-Mode: makefile;-*-
#****************************************************************************

CC  = g++
CXX = g++ -std=gnu++11  #-std=c++11

LINKER = $(CXX) #-v

#****************************************************************************

# Auto-discover root directory (may need make 3.81+)
mkfile_defs := $(word $(words $(MAKEFILE_LIST)),$(MAKEFILE_LIST))

mkfile_defs_root := $(abspath $(dir $(mkfile_defs)))

#****************************************************************************

PALM_ROOT ?= $(mkfile_defs_root)/../../palm/trunk

PALM_MIAMI_ROOT := $(abspath $(dir $(mkfile_defs)))

PALM_EXT_ROOT = $(PALM_ROOT)/../../palm-externals/trunk

PALM_HPCTK_ROOT = $(PALM_EXT_ROOT)/hpctoolkit-externals/x86_64-linux

DYNINST_ROOT = $(PALM_HPCTK_ROOT)/symtabAPI
DYNINST_INC = $(DYNINST_ROOT)/include
DYNINST_LIB = $(DYNINST_ROOT)/lib

XED_ROOT = $(PALM_HPCTK_ROOT)/xed2
XED_INC = $(XED_ROOT)/include
XED_LIB = $(XED_ROOT)/lib

BINUTILS_ROOT = $(PALM_HPCTK_ROOT)/binutils

#BOOST_ROOT = $(PALM_HPCTK_ROOT)/boost
#BOOST_INC = $(BOOST_ROOT)/include
#BOOST_LIB = $(BOOST_ROOT)/lib

#****************************************************************************

# set variable COMPILE_MIAMI_SO to "yes" to compile a shared library version 
# of the miami post-processing tool in addition to the standanlone version. 
# This library is not used anymore, but is left in for historical reasons.
# miami.so requires PIC versions of all linked libraries, e.g. binutils
# COMPILE_MIAMI_SO = yes

MIAMI_TARGET = $(PALM_MIAMI_ROOT)/install
